<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="HTMLTestRunner 1.0.0"/>
    <title>HTMLTestRunner Modern 演示报告</title>
    
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- ECharts 5.x -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    
<style type="text/css">
    :root {
        --primary-color: #1890ff;
        --success-color: #52c41a;
        --warning-color: #faad14;
        --danger-color: #f5222d;
        --info-color: #13c2c2;
        --border-color: #d9d9d9;
        --text-color: #262626;
        --text-secondary: #8c8c8c;
        --bg-color: #f0f2f5;
    }

    [data-bs-theme="dark"] {
        --primary-color: #177ddc;
        --success-color: #49aa19;
        --warning-color: #d89614;
        --danger-color: #d32029;
        --border-color: #434343;
        --text-color: #e8e8e8;
        --text-secondary: #a6a6a6;
        --bg-color: #141414;
    }

    * {
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;
        background: var(--bg-color);
        min-height: 100vh;
        padding: 24px;
        margin: 0;
        color: var(--text-color);
    }

    .container-fluid {
        max-width: 1400px;
        margin: 0 auto;
    }

    /* 头部样式 */
    .header-card {
        background: white;
        border-radius: 8px;
        padding: 24px;
        margin-bottom: 16px;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02);
        border: 1px solid var(--border-color);
    }

    [data-bs-theme="dark"] .header-card {
        background: #1f1f1f;
        border-color: var(--border-color);
    }

    .report-title {
        font-size: 24px;
        font-weight: 600;
        color: var(--text-color);
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .report-title i {
        color: var(--primary-color);
    }

    .theme-toggle {
        position: fixed;
        top: 24px;
        right: 24px;
        z-index: 1000;
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.2s;
        color: var(--text-color);
    }

    [data-bs-theme="dark"] .theme-toggle {
        background: #1f1f1f;
        border-color: var(--border-color);
    }

    .theme-toggle:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        border-color: var(--primary-color);
    }

    /* 统计卡片 */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 16px;
        margin-bottom: 16px;
    }

    .stat-card {
        background: white;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02);
        border: 1px solid var(--border-color);
        transition: all 0.2s;
    }

    [data-bs-theme="dark"] .stat-card {
        background: #1f1f1f;
        border-color: var(--border-color);
    }

    .stat-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        border-color: var(--primary-color);
    }

    .stat-card.info .stat-icon { color: var(--info-color); }
    .stat-card.primary .stat-icon { color: var(--primary-color); }
    .stat-card.success .stat-icon { color: var(--success-color); }
    .stat-card.secondary .stat-icon { color: var(--text-secondary); }

    .stat-label {
        font-size: 14px;
        color: var(--text-secondary);
        margin-bottom: 8px;
    }

    .stat-value {
        font-size: 24px;
        font-weight: 600;
        color: var(--text-color);
    }

    .stat-icon {
        font-size: 20px;
        float: right;
        opacity: 0.8;
    }

    /* 图表卡片 */
    .chart-card {
        background: white;
        border-radius: 8px;
        padding: 24px;
        margin-bottom: 16px;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02);
        border: 1px solid var(--border-color);
    }

    [data-bs-theme="dark"] .chart-card {
        background: #1f1f1f;
        border-color: var(--border-color);
    }

    /* 过滤按钮 */
    .filter-buttons {
        margin-bottom: 0;
    }

    .filter-btn {
        border: 1px solid var(--border-color);
        border-radius: 6px;
        padding: 6px 16px;
        font-size: 14px;
        transition: all 0.2s;
        background: white;
        color: var(--text-color);
    }

    [data-bs-theme="dark"] .filter-btn {
        background: #1f1f1f;
        border-color: var(--border-color);
    }

    .filter-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
    }

    .filter-btn.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
    }

    /* 表格样式 */
    .table-card {
        background: white;
        border-radius: 8px;
        padding: 24px;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02);
        border: 1px solid var(--border-color);
        overflow: hidden;
    }

    [data-bs-theme="dark"] .table-card {
        background: #1f1f1f;
        border-color: var(--border-color);
    }
    
    .table-card h2 {
        font-size: 18px;
        font-weight: 600;
        color: var(--text-color);
    }

    #result_table {
        width: 100%%;
        margin-bottom: 0;
        border-collapse: collapse;
    }

    #result_table thead th {
        background: #fafafa;
        color: var(--text-color);
        font-weight: 600;
        padding: 12px 16px;
        font-size: 14px;
        border-bottom: 1px solid var(--border-color);
        text-align: left;
    }

    [data-bs-theme="dark"] #result_table thead th {
        background: #141414;
    }

    #result_table tbody tr {
        transition: background 0.2s;
        border-bottom: 1px solid var(--border-color);
    }

    #result_table tbody tr:hover {
        background-color: #fafafa;
    }

    [data-bs-theme="dark"] #result_table tbody tr:hover {
        background-color: #262626;
    }

    #result_table td {
        padding: 12px 16px;
        vertical-align: middle;
        font-size: 14px;
    }

    .passClass {
        background: #f6ffed;
    }

    [data-bs-theme="dark"] .passClass {
        background: rgba(82, 196, 26, 0.1);
    }

    .failClass {
        background: #fffbe6;
    }

    [data-bs-theme="dark"] .failClass {
        background: rgba(250, 173, 20, 0.1);
    }

    .errorClass {
        background: #fff1f0;
    }

    [data-bs-theme="dark"] .errorClass {
        background: rgba(245, 34, 45, 0.1);
    }

    .skipClass {
        background: #f0f5ff;
    }

    [data-bs-theme="dark"] .skipClass {
        background: rgba(24, 144, 255, 0.1);
    }

    #total_row {
        font-weight: 600;
        background: #fafafa;
        border-top: 2px solid var(--border-color);
    }

    [data-bs-theme="dark"] #total_row {
        background: #141414;
    }

    .passCase { color: var(--success-color); }
    .failCase { color: var(--warning-color); }
    .errorCase { color: var(--danger-color); }
    .skipCase { color: var(--primary-color); }

    .testcase {
        margin-left: 24px;
        font-size: 14px;
    }

    /* 详情弹窗 */
    .popup_link {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        border-radius: 4px;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.2s;
    }

    .popup_link:hover {
        opacity: 0.8;
    }

    .popup_window {
        display: none;
        margin-top: 12px;
        background: #fafafa;
        border-radius: 6px;
        border: 1px solid var(--border-color);
        position: relative;
    }

    [data-bs-theme="dark"] .popup_window {
        background: #141414;
        border-color: var(--border-color);
    }

    .popup_window_header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        border-bottom: 1px solid var(--border-color);
    }

    .popup_window_header strong {
        font-size: 14px;
        color: var(--text-color);
    }

    .popup_window_actions {
        display: flex;
        gap: 8px;
    }

    .popup_window_actions button {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 4px;
        padding: 4px 12px;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.2s;
        color: var(--text-color);
        display: flex;
        align-items: center;
        gap: 4px;
    }

    [data-bs-theme="dark"] .popup_window_actions button {
        background: #1f1f1f;
    }

    .popup_window_actions button:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
    }

    .popup_window_content {
        max-height: 400px;
        overflow-y: auto;
        padding: 16px;
    }

    .popup_window_content pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        margin: 0;
        font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        font-size: 13px;
        line-height: 1.6;
        color: var(--text-color);
    }
    
    .copy-success {
        color: var(--success-color) !important;
        border-color: var(--success-color) !important;
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
        body {
            padding: 16px;
        }

        .header-card, .chart-card, .table-card {
            padding: 16px;
        }

        .report-title {
            font-size: 20px;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }

        #result_table {
            font-size: 13px;
        }

        #result_table td, #result_table th {
            padding: 8px;
        }
    }

    /* 徽章样式 */
    .badge {
        padding: 2px 8px;
        border-radius: 4px;
        font-weight: 500;
        font-size: 12px;
    }

    /* 滚动条美化 */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 4px;
    }

    [data-bs-theme="dark"] ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(0, 0, 0, 0.3);
    }

    [data-bs-theme="dark"] ::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
    }
</style>

    
</head>
<body>
    <script type="text/javascript">
    /* level - 0:Summary; 1:Failed; 2:All */
    function showCase(level) {
        const trs = document.getElementsByTagName("tr");
        for (let i = 0; i < trs.length; i++) {
            const tr = trs[i];
            const id = tr.id;
            // ft: fail test, pt: pass test, st: skip test
            if (id.substr(0,2) === 'ft') {
                // 失败/错误用例：总结时隐藏，失败和全部时显示
                tr.style.display = level < 1 ? 'none' : 'table-row';
            }
            if (id.substr(0,2) === 'pt') {
                // 通过用例：只在全部时显示
                tr.style.display = level > 1 ? 'table-row' : 'none';
            }
            if (id.substr(0,2) === 'st') {
                // 跳过用例：只在全部时显示
                tr.style.display = level > 1 ? 'table-row' : 'none';
            }
        }
        
        // 更新按钮激活状态
        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
    }

    function showClassDetail(cid, count) {
        // 找到第一个测试用例元素，判断当前是显示还是隐藏
        const tid0 = 't' + cid.substr(1) + '.1';
        let firstTid = 'f' + tid0;
        let firstElem = document.getElementById(firstTid);
        if (!firstElem) {
            firstTid = 'p' + tid0;
            firstElem = document.getElementById(firstTid);
        }
        
        if (!firstElem) return;
        
        // 判断当前状态：如果是隐藏的，则展开；如果是显示的，则隐藏
        const isHidden = firstElem.style.display === 'none' || firstElem.style.display === '';
        
        // 切换所有测试用例的显示状态
        for (let i = 0; i < count; i++) {
            const tid0 = 't' + cid.substr(1) + '.' + (i+1);
            let tid = 'f' + tid0;
            let elem = document.getElementById(tid);
            if (!elem) {
                tid = 'p' + tid0;
                elem = document.getElementById(tid);
            }
            
            if (elem) {
                elem.style.display = isHidden ? 'table-row' : 'none';
                // 如果隐藏测试用例，同时隐藏其详情窗口
                const divElem = document.getElementById('div_' + tid);
                if (divElem && !isHidden) {
                    divElem.style.display = 'none';
                }
            }
        }
    }

    function showTestDetail(div_id){
        const details_div = document.getElementById(div_id);
        const displayState = details_div.style.display;
        details_div.style.display = (displayState !== 'block') ? 'block' : 'none';
    }
    
    // 复制测试详情内容
    function copyTestDetail(contentId, button) {
        const content = document.getElementById(contentId);
        if (!content) return;
        
        const text = content.textContent;
        
        // 使用现代浏览器的Clipboard API
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text).then(() => {
                showCopySuccess(button);
            }).catch(() => {
                // 降级到旧方法
                fallbackCopy(text, button);
            });
        } else {
            // 降级到旧方法
            fallbackCopy(text, button);
        }
    }
    
    // 降级复制方法
    function fallbackCopy(text, button) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        try {
            document.execCommand('copy');
            showCopySuccess(button);
        } catch (err) {
            console.error('复制失败:', err);
        }
        document.body.removeChild(textarea);
    }
    
    // 显示复制成功提示
    function showCopySuccess(button) {
        const originalHTML = button.innerHTML;
        button.innerHTML = '<i class="bi bi-check-lg"></i> 已复制';
        button.classList.add('copy-success');
        
        setTimeout(() => {
            button.innerHTML = originalHTML;
            button.classList.remove('copy-success');
        }, 2000);
    }
    
    // 主题切换功能
    function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute('data-bs-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        html.setAttribute('data-bs-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        
        // 更新图表主题
        const chart = echarts.getInstanceByDom(document.getElementById('chart'));
        if (chart) {
            chart.dispose();
            initChart();
        }
    }
    
    // 页面加载时恢复主题
    document.addEventListener('DOMContentLoaded', function() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-bs-theme', savedTheme);
    });
    </script>

    <div class="container-fluid">
        
    <!-- 主题切换按钮 -->
    <button class="theme-toggle" onclick="toggleTheme()" title="切换主题">
        <i class="bi bi-moon-stars-fill" id="theme-icon"></i>
    </button>
    
    <!-- 头部卡片 -->
    <div class='header-card'>
        <h1 class='report-title'>
            <i class="bi bi-clipboard-check"></i>
            HTMLTestRunner Modern 演示报告
        </h1>
        
        <!-- 统计卡片网格 -->
        <div class='stats-grid'>
            
            <div class='stat-card info'>
                <i class='bi bi-clock-history stat-icon'></i>
                <div class='stat-label'>开始时间</div>
                <div class='stat-value'>2025-12-25 15:41:15</div>
            </div>

            <div class='stat-card primary'>
                <i class='bi bi-stopwatch stat-icon'></i>
                <div class='stat-label'>运行时长</div>
                <div class='stat-value'>0:00:00.001012</div>
            </div>

            <div class='stat-card success'>
                <i class='bi bi-flag-fill stat-icon'></i>
                <div class='stat-label'>状态</div>
                <div class='stat-value'>通过 8 失败 1 错误 1 跳过 1</div>
            </div>

            <div class='stat-card secondary'>
                <i class='bi bi-person-fill stat-icon'></i>
                <div class='stat-label'>测试人</div>
                <div class='stat-value'>Lit</div>
            </div>

        </div>
        
        <p class='description text-muted' style='font-size: 1.1rem; margin-top: 1.5rem;'>这是一个演示测试报告，展示 HTMLTestRunner 的各种功能</p>
    </div>
    
    <!-- 图表卡片 -->
    <div class='chart-card'>
        <div id="chart" style="width:100%;height:500px;"></div>
    </div>
    
    <script>
    // 更新主题图标
    function updateThemeIcon() {
        const icon = document.getElementById('theme-icon');
        const theme = document.documentElement.getAttribute('data-bs-theme');
        icon.className = theme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-stars-fill';
    }
    
    document.addEventListener('DOMContentLoaded', updateThemeIcon);
    
    // 在toggleTheme函数中更新图标
    const originalToggleTheme = window.toggleTheme;
    window.toggleTheme = function() {
        originalToggleTheme();
        updateThemeIcon();
    };
    </script>

        
    <div class="table-card">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="mb-0">
                <i class="bi bi-list-check"></i> 测试详情
            </h2>
            <div class="filter-buttons btn-group" role="group">
                <button type="button" class="filter-btn active" onclick='showCase(0)'>
                    <i class="bi bi-clipboard-data"></i> 总结
                </button>
                <button type="button" class="filter-btn" onclick='showCase(1)'>
                    <i class="bi bi-exclamation-triangle"></i> 失败
                </button>
                <button type="button" class="filter-btn" onclick='showCase(2)'>
                    <i class="bi bi-list-ul"></i> 全部
                </button>
            </div>
        </div>
        
        <div class="table-responsive">
            <table id='result_table' class="table table-hover align-middle">
                <thead>
                    <tr>
                        <th style="min-width: 300px;"><i class="bi bi-folder2-open"></i> 测试套件/测试用例</th>
                        <th class="text-center" style="width: 100px;"><i class="bi bi-hash"></i> 总数</th>
                        <th class="text-center" style="width: 100px;"><i class="bi bi-check-circle"></i> 通过</th>
                        <th class="text-center" style="width: 100px;"><i class="bi bi-x-circle"></i> 失败</th>
                        <th class="text-center" style="width: 100px;"><i class="bi bi-exclamation-circle"></i> 错误</th>
                        <th class="text-center" style="width: 100px;"><i class="bi bi-dash-circle"></i> 跳过</th>
                        <th class="text-center" style="width: 120px;"><i class="bi bi-eye"></i> 查看</th>
                    </tr>
                </thead>
                <tbody>
                    
    <tr class='errorClass'>
        <td>
            <strong><i class="bi bi-folder-fill"></i> TestExample: 示例测试用例</strong>
        </td>
        <td class="text-center">8</td>
        <td class="text-center"><span class="badge bg-success">5</span></td>
        <td class="text-center"><span class="badge bg-warning">1</span></td>
        <td class="text-center"><span class="badge bg-danger">1</span></td>
        <td class="text-center"><span class="badge bg-primary">1</span></td>
        <td class="text-center">
            <a href="javascript:showClassDetail('c1',8)" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-chevron-down"></i> 详情
            </a>
        </td>
    </tr>

<tr id='ft1.1' style='display:none;'>
    <td class='errorCase'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_error: 错误的测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_ft1.1')">
                <i class="bi bi-info-circle"></i> 错误
            </a>
        </div>
        <div id='div_ft1.1' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_ft1.1', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_ft1.1')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_ft1.1'>ft1.1: Traceback (most recent call last):
  File "demo.py", line 34, in test_error
    raise ValueError("这是一个错误")
ValueError: 这是一个错误
</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='ft1.2' style='display:none;'>
    <td class='failCase'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_fail: 失败的测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_ft1.2')">
                <i class="bi bi-info-circle"></i> 失败
            </a>
        </div>
        <div id='div_ft1.2' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_ft1.2', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_ft1.2')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_ft1.2'>ft1.2: Traceback (most recent call last):
  File "demo.py", line 30, in test_fail
    self.assertEqual(1, 2, "1 不等于 2")
AssertionError: 1 != 2 : 1 不等于 2
</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt1.3' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_pass: 通过的测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.3')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt1.3' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt1.3', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt1.3')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt1.3'>pt1.3: 无输出信息</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt1.4' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_pass_with_output: 带输出的通过测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.4')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt1.4' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt1.4', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt1.4')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt1.4'>pt1.4: 这是测试输出信息
</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='st1.5' style='display:none;'>
    <td class='skipCase'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_skip: 跳过的测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_st1.5')">
                <i class="bi bi-info-circle"></i> 跳过
            </a>
        </div>
        <div id='div_st1.5' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_st1.5', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_st1.5')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_st1.5'>st1.5: Skipped: 跳过原因说明</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt1.6' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_subtest: 子测试示例
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.6')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt1.6' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt1.6', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt1.6')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt1.6'>pt1.6: 
SubTestCase Pass:
test_subtest (__main__.TestExample) (i=0)</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt1.7' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_subtest: 子测试示例
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.7')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt1.7' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt1.7', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt1.7')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt1.7'>pt1.7: 
SubTestCase Pass:
test_subtest (__main__.TestExample) (i=1)</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt1.8' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_subtest: 子测试示例
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.8')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt1.8' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt1.8', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt1.8')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt1.8'>pt1.8: 
SubTestCase Pass:
test_subtest (__main__.TestExample) (i=2)</pre>
            </div>
        </div>
    </td>
</tr>

    <tr class='passClass'>
        <td>
            <strong><i class="bi bi-folder-fill"></i> TestMath: 数学计算测试</strong>
        </td>
        <td class="text-center">3</td>
        <td class="text-center"><span class="badge bg-success">3</span></td>
        <td class="text-center"><span class="badge bg-warning">0</span></td>
        <td class="text-center"><span class="badge bg-danger">0</span></td>
        <td class="text-center"><span class="badge bg-primary">0</span></td>
        <td class="text-center">
            <a href="javascript:showClassDetail('c2',3)" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-chevron-down"></i> 详情
            </a>
        </td>
    </tr>

<tr id='pt2.1' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_addition: 加法测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt2.1')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt2.1' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt2.1', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt2.1')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt2.1'>pt2.1: 无输出信息</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt2.2' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_multiplication: 乘法测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt2.2')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt2.2' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt2.2', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt2.2')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt2.2'>pt2.2: 无输出信息</pre>
            </div>
        </div>
    </td>
</tr>

<tr id='pt2.3' style='display:none;'>
    <td class='none'>
        <div class='testcase'>
            <i class="bi bi-file-earmark-code"></i> test_subtraction: 减法测试
        </div>
    </td>
    <td colspan='5'>
        <div class="text-center">
            <a class="popup_link btn btn-sm btn-outline-info" onfocus='this.blur();' href="javascript:showTestDetail('div_pt2.3')">
                <i class="bi bi-info-circle"></i> 通过
            </a>
        </div>
        <div id='div_pt2.3' class="popup_window">
            <div class="popup_window_header">
                <strong><i class="bi bi-terminal"></i> 执行详情</strong>
                <div class="popup_window_actions">
                    <button onclick="copyTestDetail('content_pt2.3', this)" title="复制内容">
                        <i class="bi bi-clipboard"></i> 复制
                    </button>
                    <button onclick="showTestDetail('div_pt2.3')" title="关闭">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            <div class="popup_window_content">
                <pre id='content_pt2.3'>pt2.3: 无输出信息</pre>
            </div>
        </div>
    </td>
</tr>

                    <tr id='total_row'>
                        <td><strong><i class="bi bi-calculator"></i> 总计</strong></td>
                        <td class="text-center"><strong>11</strong></td>
                        <td class="text-center"><span class="badge bg-success">8</span></td>
                        <td class="text-center"><span class="badge bg-warning">1</span></td>
                        <td class="text-center"><span class="badge bg-danger">1</span></td>
                        <td class="text-center"><span class="badge bg-primary">1</span></td>
                        <td>&nbsp;</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

        
    <div id='ending' class='text-center py-5'>
        <div class='card' style='background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 15px; padding: 2rem; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);'>
            <p class='text-muted mb-2'>
                <i class="bi bi-code-square"></i> 
                Powered by <strong>HTMLTestRunner</strong> v1.0.0 - Modern UI Edition
            </p>
            <p class='text-muted mb-2' style='font-size: 0.875rem;'>
                <i class="bi bi-person-circle"></i> 
                Author: <strong>Lit</strong>
            </p>
            <p class='text-muted mb-0' style='font-size: 0.875rem;'>
                <i class="bi bi-calendar3"></i> 
                Generated on <span id='generation-time'></span>
            </p>
        </div>
    </div>
    
    <script>
    // 显示生成时间
    document.getElementById('generation-time').textContent = new Date().toLocaleString('zh-CN', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });
    </script>
    
    </div>
    
    <script type="text/javascript">
    function initChart() {
        const chartDom = document.getElementById('chart');
        const myChart = echarts.init(chartDom);
        const isDark = document.documentElement.getAttribute('data-bs-theme') === 'dark';
        
        const passCount = 8;
        const failCount = 1;
        const errorCount = 1;
        const skipCount = 1;
        const total = passCount + failCount + errorCount + skipCount;
        const passRate = total > 0 ? ((passCount / total) * 100).toFixed(1) : 0;

        const option = {
            title: {
                text: '测试执行情况',
                subtext: '通过率: ' + passRate + '%',
                left: 'center',
                top: '2%',
                textStyle: {
                    fontSize: 16,
                    fontWeight: 600,
                    color: isDark ? '#e8e8e8' : '#262626'
                },
                subtextStyle: {
                    fontSize: 13,
                    color: isDark ? '#a6a6a6' : '#8c8c8c',
                    lineHeight: 24
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: {c} ({d}%)',
                backgroundColor: isDark ? 'rgba(0, 0, 0, 0.85)' : 'rgba(255, 255, 255, 0.95)',
                borderColor: isDark ? '#434343' : '#d9d9d9',
                borderWidth: 1,
                textStyle: {
                    color: isDark ? '#e8e8e8' : '#262626',
                    fontSize: 13
                }
            },
            legend: {
                orient: 'horizontal',
                bottom: '5%',
                left: 'center',
                itemGap: 24,
                textStyle: {
                    fontSize: 13,
                    color: isDark ? '#e8e8e8' : '#262626'
                },
                data: ['通过', '失败', '错误', '跳过'],
                formatter: function(name) {
                    const dataMap = {
                        '通过': passCount,
                        '失败': failCount,
                        '错误': errorCount,
                        '跳过': skipCount
                    };
                    return name + ': ' + dataMap[name];
                }
            },
            series: [
                {
                    name: '测试结果',
                    type: 'pie',
                    radius: ['40%', '60%'],
                    center: ['50%', '50%'],
                    avoidLabelOverlap: true,
                    itemStyle: {
                        borderRadius: 4,
                        borderColor: isDark ? '#141414' : '#fff',
                        borderWidth: 2
                    },
                    label: {
                        show: true,
                        position: 'outside',
                        formatter: function(params) {
                            if (params.value === 0) {
                                return '';  // 不显示值为0的标签
                            }
                            return params.name + '\n' + params.value + ' (' + params.percent + '%)';
                        },
                        fontSize: 13,
                        fontWeight: 500,
                        color: isDark ? '#e8e8e8' : '#262626',
                        distanceToLabelLine: 5
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: 14,
                            fontWeight: 600
                        },
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        scale: true,
                        scaleSize: 5
                    },
                    labelLine: {
                        show: true,
                        length: 15,
                        length2: 60,
                        smooth: true,
                        lineStyle: {
                            color: isDark ? '#434343' : '#d9d9d9',
                            width: 1
                        }
                    },
                    data: [
                        {
                            value: passCount,
                            name: '通过',
                            itemStyle: { color: '#52c41a' }
                        },
                        {
                            value: failCount,
                            name: '失败',
                            itemStyle: { color: '#faad14' }
                        },
                        {
                            value: errorCount,
                            name: '错误',
                            itemStyle: { color: '#f5222d' }
                        },
                        {
                            value: skipCount,
                            name: '跳过',
                            itemStyle: { color: '#1890ff' }
                        }
                    ],
                    animationType: 'scale',
                    animationEasing: 'cubicOut',
                    animationDelay: function (idx) {
                        return idx * 100;
                    }
                }
            ]
        };

        myChart.setOption(option);
        
        // 响应式调整
        window.addEventListener('resize', function() {
            myChart.resize();
        });
    }
    
    // 页面加载完成后初始化图表
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initChart);
    } else {
        initChart();
    }
    </script>
    
</body>
</html>
